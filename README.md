<h3 align="center">
Минеева Екатерина  <br />
НИУ ВШЭ ФКН БПМИ-152 <br />
Проект  <br />
</h3>
<h2 align="center">
«Семантическая сегментация изображений  <br />
для автоматической разметки аэрофотоснимков»  <br />
</h2>
<h3 align="center">
под руководством ментора Вадима Горбачёва
</h3>
 <br />

#### Постановка задачи

Проанализировать аэрофотоснимки и автоматизировать процесс классификации объектов, изображенных на снимке. 

В данном проекте анализируются высококачественные аэрофотоснимки немецких городов Vaihingen и Potsdam. Требуется отнести каждый пиксел изображения к одному из классов:

* Непрозрачные поверхности
* Здания
* Низкая растительность
* Деревья
* Машины
* Дорога/прочее

Разметка аэрофотоснимков просиходит на основе следующих данных:

* Исходные снимки
* TOP - синтезированный снимок из бесконечно удалённой точки
* DSM – карта высот объектов
* nDSM – карта высот объектов нормализованная относительно уровня земли 
* PAN – черно-белые снимки
* CII - инфракрасный канал

Кроме того для части снимков имеются Ground Truth изображения (размеченные вручную),что позволяет применить методы машинного обучения к данной задачи. На данный момент открыт [контест](http://www2.isprs.org/commissions/comm3/wg4/semantic-labeling.html), куда все желающие могут отправить свой алгоритм и посоревноваться с другими участниками. Некоторые участники достигли высокой точности в разметке снимков и опубликовали ряд статей по данной тематике. 
 <br />

#### Методы решения

Для решения данной задачи применяется метод машинного обучения, реализация состоит из нескольких шагов

1. Предварительная сегментация изображения на "суперпиксели" -- данный шаг обусловлен двумя факторами: во-первых, у аэрофотоснимков, которые предстоит анализировать, высокое разрешение, поэтому анализ каждого пиксела изображения потребовал бы очень больших мощностей, а, во-вторых, подобное решение не так эффективно, поскольку объекты, которые представлены на снимках имеют сравнительно большой размер, а характеристики каждого отдельного пиксела не так важны -- куда более информативен анализ в совокупности.
В качестве алгоритма, реализующего предварительную сегментацию был выбран SLIC (Simple Linear Iterative Clustering), поскольку:
    * ошибка, которую вносит пересегментация при помощи SLIC, минимальна: проверено эмпирически
    * сегменты, которые выделяет данный алгоритм, равномерно распределены по всему изображения и их размер не сильно различается

2. Выделение признаков, по которым будет происходить анализ изображения 
    * цвет и разница цветов в соседних областях
    * высота и перепад высот
    * форма области
    * контекст - класс сосдних объектов
    * вероятность принадлежности к каждому из классов
    * ... и многое другое

3. Выбор классификатора, отвечающего требованиям задачи, - то есть алгоритма, который обучившись на уже размеченных данных, будет по набору признаков относить каждый из пикселов к одному из 6 классов. На данный момент в качестве классификатора был выбран Random Forest, однако впоследствии планируется применить более сложные классификаторы. 

4. Анализ работы классификатора на тестовой выборке и в зависимости от результатов либо выбор других признаков и/или классификатора, либо дальнейшая оптимизация и улучшение точности.

 <br />

#### План реализации проекта

1. Первая контрольная точка - 17 декабря 2016:
    * Изучение задачи, методов ее решения и постановка технического задания
    * Реализация пересегментации и оценка погрешности, которую она вносит
2. Вторая контрольная точка - 20-25 марта 2017:
    * Выделелние признаков 
    * Обучение на их основе Random Forest и  Conditional Random Field
    * Оценка полученных результатов
    * Построение дальшейшего плана реализации и улучшения проекта
3. Третья контрольная точка - 29 мая - 3 июня
    * Реализация полного функционала и отправка решения в контест
    * (По результатам 2-ой контрольной точки список будет дополнен)
